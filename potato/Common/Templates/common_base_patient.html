{% extends "common_base.html" %}

{% block content %}
<div id="page-with-patient" class="d-flex h-100 w-100">
  <div id="patient-sidebar-here"
  hx-preserve="true" 
  style="width: 200px; flex-shrink: 0;"
  class="bg-body-secondary overflow-auto">
    <ul class="nav flex-column">
      <li class="nav-item"">
        <a href="{% url 'PatientOverview' patient.id %}" class="nav-link" style="text-align: center"
          hx-get="{% url 'PatientOverview' patient.id %}">
          {% if patient.Patient_photo.first and patient.Patient_photo.first.upload_to.url %}
          <img src="{{ patient.Patient_photo.first.upload_to.url }}" alt="Patient Photo"
            style="width: 150px; height: 150px; object-fit: cover; overflow-clip-margin: unset;">
          {% else %}
          <svg width="150px" height="150px">
            <path fill="#ccc" d="M 104.68731,56.689353 C 102.19435,80.640493 93.104981,97.26875 74.372196,97.26875 55.639402,97.26875 46.988823,82.308034 44.057005,57.289941 41.623314,34.938838 55.639402,15.800152 74.372196,15.800152 c 18.732785,0 32.451944,18.493971 30.315114,40.889201 z"/>
            <path fill="#ccc" d="M 92.5675 89.6048 C 90.79484 93.47893 89.39893 102.4504 94.86478 106.9039 C 103.9375 114.2963 106.7064 116.4723 118.3117 118.9462 C 144.0432 124.4314 141.6492 138.1543 146.5244 149.2206 L 4.268444 149.1023 C 8.472223 138.6518 6.505799 124.7812 32.40051 118.387 C 41.80992 116.0635 45.66513 113.8823 53.58659 107.0158 C 58.52744 102.7329 57.52583 93.99267 56.43084 89.26926 C 52.49275 88.83011 94.1739 88.14054 92.5675 89.6048 z" />
          </svg>
          {% endif %}
          <div style="min-height: 50px;">
            {% for prefix in patient.get_prefixes %}
              <p class="m-0 lh-1">{{ prefix }}</p>
            {% endfor %}
            {% for name in patient.get_names %}
              <p class="m-0 lh-1">{{ name }}</p>
            {% endfor %}
          </div>
        </a>
      </li>
      <li id="p_allergy" class="nav-item"><a href="{% url 'AllergyIntoleranceBootstrap_overview' patient.id %}" class="nav-link">Allergy/Intolerance</a></li>
      <li id="p_results" class="nav-item"><a class="nav-link" href="#">Chart review todo</a></li>
      <li id="p_results1" class="nav-item"><a class="nav-link" href="#">Encounter</a></li>
      <li id="p_results1" class="nav-item"><a class="nav-link" href="#">Family history todo</a></li>
      <li id="p_growth" class="nav-item"><a href="{% url 'GrowthChart_overview' patient.id %}" class="nav-link">Growth chart</a></li>
      <li id="p_immunization" class="nav-item"><a href="{% url 'Immunizations_overview' patient.id %}" class="nav-link">Immunizations</a></li>
      <li id="p_MAR" class="nav-item"><a class="nav-link" href="#">Medications todo</a></li>
      <li id="p_results3" class="nav-item"><a href="{% url 'ProblemList_overview' patient.id %}" class="nav-link">Problem list</a></li>
      <li id="p_results4" class="nav-item"><a class="nav-link" href="#">Results todo</a></li>
    </ul>
  </div>

  <div id="patient-page-here" class="d-flex flex-column flex-grow-1 h-100">
    <div class="flex-grow-1 overflow-auto">
      {% block patientPage %}
      {% endblock %}
    </div>

    <div id="patient-footer-here" class="container-fluid m-0 p-0 w-100">
      <ul class="nav flex-row bg-body">
        <li id="p_orders5" class="nav-item"><a class="nav-link" href="#">Orders todo</a></li>
        <li id="p_orders6" class="nav-item"><a class="nav-link" href="#">Diagnoses todo</a></li>
      </ul>
    </div>
  </div>
</div>
{% endblock %}
